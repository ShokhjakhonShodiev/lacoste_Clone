{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\React\\\\tutorials\\\\default_react\\\\facebook_clone\\\\src\\\\components\\\\Message.js\";\nimport React from 'react';\nimport './Message.css';\nimport db from '../firebase';\n\nfunction Message({\n  data,\n  id,\n  name\n}) {\n  const delMessage = e => {\n    db.collection('messages').doc(id).delete();\n  };\n\n  const editandSaveMessage = e => {\n    let ele = e.target;\n    let node = e.target.parentElement.children;\n    console.log(e.target.parentElement.children[0].textContent);\n\n    const editMessage = () => {\n      let p = node[0];\n      p.contentEditable = true;\n      p.focus();\n      ele.textContent = 'Save';\n    };\n\n    const saveDB = () => {\n      db.collection('message').doc(id).set({\n        message: node[0].textContent\n      }, {\n        merge: true\n      });\n      ele.textContent = 'Edit';\n    };\n\n    if (ele.textContent === 'Edit') {\n      editMessage();\n    } else if (ele.textContent === 'Save') {\n      saveDB();\n    }\n  };\n\n  let p_class = name === data.username ? 'real_p' : 'guest_p';\n  let div_class = name === data.username ? 'real_div' : 'guest_div';\n  let button_class = name === data.username ? 'real_button' : 'guest_button';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `mess_con ${div_class}`,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mess_text ${p_class}`,\n      children: [data.username, \" : \", data.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"mess_edit\",\n      onClick: editandSaveMessage,\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"mess_delete\",\n      onClick: delMessage,\n      children: \"del\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"sources":["D:/React/tutorials/default_react/facebook_clone/src/components/Message.js"],"names":["React","db","Message","data","id","name","delMessage","e","collection","doc","delete","editandSaveMessage","ele","target","node","parentElement","children","console","log","textContent","editMessage","p","contentEditable","focus","saveDB","set","message","merge","p_class","username","div_class","button_class"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,OAAOC,EAAP,MAAe,aAAf;;AAEA,SAAUC,OAAV,CAAkB;AAACC,EAAAA,IAAD;AAAMC,EAAAA,EAAN;AAASC,EAAAA;AAAT,CAAlB,EAAkC;AAC9B,QAAMC,UAAU,GAAIC,CAAD,IAAK;AACpBN,IAAAA,EAAE,CAACO,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8BL,EAA9B,EAAkCM,MAAlC;AACH,GAFD;;AAGA,QAAMC,kBAAkB,GAAIJ,CAAD,IAAK;AAC5B,QAAIK,GAAG,GAAGL,CAAC,CAACM,MAAZ;AACA,QAAIC,IAAI,GAAGP,CAAC,CAACM,MAAF,CAASE,aAAT,CAAuBC,QAAlC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYX,CAAC,CAACM,MAAF,CAASE,aAAT,CAAuBC,QAAvB,CAAgC,CAAhC,EAAmCG,WAA/C;;AACA,UAAMC,WAAW,GAAG,MAAI;AACpB,UAAIC,CAAC,GAAGP,IAAI,CAAC,CAAD,CAAZ;AACAO,MAAAA,CAAC,CAACC,eAAF,GAAoB,IAApB;AACAD,MAAAA,CAAC,CAACE,KAAF;AACAX,MAAAA,GAAG,CAACO,WAAJ,GAAkB,MAAlB;AACH,KALD;;AAMA,UAAMK,MAAM,GAAG,MAAI;AACfvB,MAAAA,EAAE,CAACO,UAAH,CAAc,SAAd,EAAyBC,GAAzB,CAA6BL,EAA7B,EAAiCqB,GAAjC,CAAqC;AACjCC,QAAAA,OAAO,EAAEZ,IAAI,CAAC,CAAD,CAAJ,CAAQK;AADgB,OAArC,EAEE;AAACQ,QAAAA,KAAK,EAAE;AAAR,OAFF;AAGAf,MAAAA,GAAG,CAACO,WAAJ,GAAkB,MAAlB;AACH,KALD;;AAMA,QAAGP,GAAG,CAACO,WAAJ,KAAoB,MAAvB,EAA8B;AAC1BC,MAAAA,WAAW;AACd,KAFD,MAEM,IAAGR,GAAG,CAACO,WAAJ,KAAoB,MAAvB,EAA8B;AAChCK,MAAAA,MAAM;AACT;AACJ,GArBD;;AAsBA,MAAII,OAAO,GAAIvB,IAAI,KAAKF,IAAI,CAAC0B,QAAf,GAA0B,QAA1B,GAAmC,SAAjD;AACA,MAAIC,SAAS,GAAIzB,IAAI,KAAKF,IAAI,CAAC0B,QAAf,GAA0B,UAA1B,GAAqC,WAArD;AACA,MAAIE,YAAY,GAAI1B,IAAI,KAAKF,IAAI,CAAC0B,QAAf,GAA0B,aAA1B,GAAwC,cAA3D;AACA,sBACI;AAAK,IAAA,SAAS,EAAG,YAAWC,SAAU,EAAtC;AAAA,4BACI;AAAG,MAAA,SAAS,EAAG,aAAYF,OAAQ,EAAnC;AAAA,iBAAwCzB,IAAI,CAAC0B,QAA7C,SAA0D1B,IAAI,CAACuB,OAA/D;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,OAAO,EAAEf,kBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAgC,MAAA,OAAO,EAAEL,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;KApCSJ,O;AAqCV,eAAeA,OAAf","sourcesContent":["import React from 'react';\r\nimport './Message.css';\r\nimport db from '../firebase';\r\n\r\nfunction  Message({data,id,name}) {\r\n    const delMessage = (e)=>{\r\n        db.collection('messages').doc(id).delete();\r\n    }\r\n    const editandSaveMessage = (e)=>{\r\n        let ele = e.target;\r\n        let node = e.target.parentElement.children;\r\n        console.log(e.target.parentElement.children[0].textContent);\r\n        const editMessage = ()=>{\r\n            let p = node[0];\r\n            p.contentEditable = true;\r\n            p.focus();\r\n            ele.textContent = 'Save';\r\n        }\r\n        const saveDB = ()=>{\r\n            db.collection('message').doc(id).set({\r\n                message: node[0].textContent\r\n            },{merge: true});\r\n            ele.textContent = 'Edit';\r\n        }\r\n        if(ele.textContent === 'Edit'){\r\n            editMessage()\r\n        }else if(ele.textContent === 'Save'){\r\n            saveDB()\r\n        }\r\n    }\r\n    let p_class = (name === data.username)? 'real_p':'guest_p';\r\n    let div_class = (name === data.username)? 'real_div':'guest_div';\r\n    let button_class = (name === data.username)? 'real_button':'guest_button';\r\n    return (\r\n        <div className={`mess_con ${div_class}`}>\r\n            <p className={`mess_text ${p_class}`} >{data.username} : {data.message}</p>\r\n            <button className='mess_edit' onClick={editandSaveMessage}>Edit</button>\r\n            <button className='mess_delete' onClick={delMessage}>del</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Message;"]},"metadata":{},"sourceType":"module"}