{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/React/tutorials/default_react/facebook_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Message from'./components/Message';import db from'./firebase';import firebase from'firebase';import FlipMove from'react-flip-move';import SendIcon from'@material-ui/icons/Send';import IconButton from'@material-ui/core/IconButton';import'./App.css';import{Input}from'@material-ui/core';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userInfos=_useState4[0],setUserInfos=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){db.collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setUserInfos(snapshot.docs.map(function(doc){return{data:doc.data(),id:doc.id};}));});},[]);useEffect(function(){var userName=prompt('Please, write your name !');checkUserName(userName);},[]);var checkUserName=function checkUserName(user){if(!user){var n=prompt('You did not write your Name');if(n){setUser(n);}else{checkUserName(user);}}else{setUser(user);}};var handleInput=function handleInput(e){setInput(e.target.value);};var handleButton=function handleButton(e){e.preventDefault();db.collection('messages').add({message:input,username:user,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img_con\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://facebookbrand.com/wp-content/uploads/2020/10/Logo_Messenger_NewBlurple-399x399-1.png?w=100&h=100\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Join \\\"@medailycoding\\\" in telegramm \"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(Input,{className:\"inp\",placeholder:\"Enter a message...\",type:\"text\",value:input,onChange:handleInput}),/*#__PURE__*/_jsx(IconButton,{className:\"butt\",disabled:!input,type:\"submit\",onClick:handleButton,children:/*#__PURE__*/_jsx(SendIcon,{})})]}),/*#__PURE__*/_jsx(FlipMove,{children:userInfos.map(function(userInfo){return/*#__PURE__*/_jsx(Message,{userInfo:userInfo.data,userName:user},userInfo.id);})})]});}export default App;","map":{"version":3,"sources":["D:/React/tutorials/default_react/facebook_clone/src/App.js"],"names":["React","useEffect","useState","Message","db","firebase","FlipMove","SendIcon","IconButton","Input","App","input","setInput","userInfos","setUserInfos","user","setUser","collection","orderBy","onSnapshot","snapshot","docs","map","doc","data","id","userName","prompt","checkUserName","n","handleInput","e","target","value","handleButton","preventDefault","add","message","username","timestamp","firestore","FieldValue","serverTimestamp","userInfo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Message from './components/Message';\r\nimport db from './firebase';\r\nimport firebase from 'firebase';\r\nimport FlipMove from 'react-flip-move';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport './App.css';\r\nimport { Input } from '@material-ui/core';\r\n\r\nfunction App() {\r\n    const [input, setInput] = useState('');\r\n    const [userInfos, setUserInfos] = useState([]);\r\n    const [user, setUser] = useState('');\r\n    useEffect(() => {\r\n        db.collection('messages')\r\n            .orderBy('timestamp', 'desc')\r\n            .onSnapshot((snapshot) => {\r\n                setUserInfos(snapshot.docs.map(doc => (\r\n                    {data:doc.data(),id:doc.id}\r\n                )))\r\n            })\r\n    }, [])\r\n    useEffect(() => {\r\n        let userName = prompt('Please, write your name !');\r\n        checkUserName(userName);\r\n    }, [])\r\n\r\n    const checkUserName = (user) => {\r\n        if (!user) {\r\n            let n = prompt('You did not write your Name');\r\n            if (n) {\r\n                setUser(n)\r\n            } else {\r\n                checkUserName(user);\r\n            }\r\n        } else {\r\n            setUser(user)\r\n        }\r\n    }\r\n    const handleInput = (e) => {\r\n        setInput(e.target.value);\r\n    }\r\n    const handleButton = (e) => {\r\n        e.preventDefault();\r\n        db.collection('messages').add({\r\n            message: input,\r\n            username: user,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setInput('');\r\n    }\r\n    return (\r\n        <div className='container'>\r\n            <div className=\"img_con\">\r\n                <img src=\"https://facebookbrand.com/wp-content/uploads/2020/10/Logo_Messenger_NewBlurple-399x399-1.png?w=100&h=100\" alt=\"\"/>\r\n            </div>\r\n            <h3>Join \"@medailycoding\" in telegramm </h3>\r\n            <form>\r\n                <Input className='inp' placeholder='Enter a message...' type=\"text\" value={input} onChange={handleInput}/>\r\n                <IconButton className='butt' disabled={!input} type='submit' onClick={handleButton} > \r\n                    <SendIcon/>\r\n                </IconButton>\r\n            </form>\r\n            <FlipMove>\r\n                {\r\n                    userInfos.map((userInfo) => (\r\n                        <Message key={userInfo.id} userInfo={userInfo.data} userName={user} />\r\n                    ))\r\n                }\r\n            </FlipMove>\r\n        </div>\r\n    )\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}