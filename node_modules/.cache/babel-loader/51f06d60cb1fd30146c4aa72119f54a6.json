{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"D:/React/tutorials/default_react/basic_todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/React/tutorials/default_react/basic_todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Todo from'./components/Todo';import db from'./firebase';import firebase from'firebase';import'./App.css';function App(){//simple short-term storage\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];//advanced short-term storage\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];//every access to website get data from DB\nuseEffect(function(){db.collection('todos').orderBy('timestamp','desc').onSnapshot(function(snapshot){setTodos(snapshot.docs.map(function(doc){return{todo:doc.data().todo,id:doc.id,time:doc.data().timestamp};}));});},[]);//handler functions\nvar handleButton=function handleButton(e){e.preventDefault();// adding data in database\ndb.collection('todos').add({todo:input,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setTodos([].concat(_toConsumableArray(todos),[input]));setInput('');};var handleInput=function handleInput(event){setInput(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Revised Todo App\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleInput,value:input}),/*#__PURE__*/_jsx(\"button\",{disabled:!input,type:\"submit\",onClick:handleButton,children:\"Add Todo\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:todos.map(function(todo){return/*#__PURE__*/_jsx(Todo,{todo:todo});})})]});}export default App;","map":{"version":3,"sources":["D:/React/tutorials/default_react/basic_todo/src/App.js"],"names":["React","useEffect","useState","Todo","db","firebase","App","input","setInput","todos","setTodos","collection","orderBy","onSnapshot","snapshot","docs","map","doc","todo","data","id","time","timestamp","handleButton","e","preventDefault","add","firestore","FieldValue","serverTimestamp","handleInput","event","target","value"],"mappings":"oaAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAO,WAAP,CAEA,QAASC,CAAAA,GAAT,EAAc,CACV;AADU,cAEgBJ,QAAQ,CAAC,EAAD,CAFxB,wCAEHK,KAFG,eAEIC,QAFJ,eAGV;AAHU,eAIgBN,QAAQ,CAAC,EAAD,CAJxB,yCAIHO,KAJG,eAIIC,QAJJ,eAKV;AACAT,SAAS,CAAC,UAAI,CACVG,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,CAA4C,MAA5C,EAAoDC,UAApD,CAA+D,SAACC,QAAD,CAAY,CACvEJ,QAAQ,CAACI,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,CAAE,CAC5B,MAAO,CACHC,IAAI,CAAED,GAAG,CAACE,IAAJ,GAAWD,IADd,CAEHE,EAAE,CAAGH,GAAG,CAACG,EAFN,CAGHC,IAAI,CAAEJ,GAAG,CAACE,IAAJ,GAAWG,SAHd,CAAP,CAKH,CANQ,CAAD,CAAR,CAOH,CARD,EASH,CAVQ,CAUP,EAVO,CAAT,CAWA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAK,CACtBA,CAAC,CAACC,cAAF,GACA;AACArB,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBe,GAAvB,CAA2B,CACvBR,IAAI,CAAEX,KADiB,CAEvBe,SAAS,CAAGjB,QAAQ,CAACsB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFW,CAA3B,EAIAnB,QAAQ,8BAAKD,KAAL,GAAYF,KAAZ,GAAR,CACAC,QAAQ,CAAC,EAAD,CAAR,CACH,CATD,CAUA,GAAMsB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAS,CACzBvB,QAAQ,CAACuB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,wCADJ,cAEI,qCACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEH,WAA7B,CAA0C,KAAK,CAAEvB,KAAjD,EADJ,cAEI,eAAQ,QAAQ,CAAE,CAACA,KAAnB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,OAAO,CAAEgB,YAAjD,sBAFJ,GAFJ,cAMI,oBACKd,KAAK,CAACO,GAAN,CAAU,SAACE,IAAD,qBACP,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EADO,EAAV,CADL,EANJ,GADJ,CAcH,CACD,cAAeZ,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Todo from './components/Todo';\r\nimport db from './firebase';\r\nimport firebase from 'firebase';\r\nimport './App.css';\r\n\r\nfunction App(){\r\n    //simple short-term storage\r\n    const [input, setInput] = useState('');\r\n    //advanced short-term storage\r\n    const [todos, setTodos] = useState([]);\r\n    //every access to website get data from DB\r\n    useEffect(()=>{\r\n        db.collection('todos').orderBy('timestamp', 'desc').onSnapshot((snapshot)=>{\r\n            setTodos(snapshot.docs.map(doc=>{\r\n                return {\r\n                    todo: doc.data().todo,\r\n                    id : doc.id,\r\n                    time: doc.data().timestamp\r\n                }\r\n            }))\r\n        })\r\n    },[])\r\n    //handler functions\r\n    const handleButton = (e)=>{\r\n        e.preventDefault();\r\n        // adding data in database\r\n        db.collection('todos').add({\r\n            todo: input,\r\n            timestamp : firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setTodos([...todos, input]);\r\n        setInput('');\r\n    }\r\n    const handleInput = (event)=>{\r\n        setInput(event.target.value);\r\n    }\r\n    \r\n    return(\r\n        <div className='container'>\r\n            <h1>Revised Todo App</h1>\r\n            <form>\r\n                <input type=\"text\" onChange={handleInput} value={input}/>\r\n                <button disabled={!input} type='submit' onClick={handleButton}>Add Todo</button>\r\n            </form>\r\n            <ul>\r\n                {todos.map((todo)=>(\r\n                    <Todo todo={todo} />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}